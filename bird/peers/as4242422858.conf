# Peer: paul (AS4242422858) - IPv6 with MP-BGP
# Their tunnel IPs: 172.21.69.65, fd69:1001:a2f0::1

protocol bgp paul_v6 from dnpeers {
    enable extended messages on;
    bfd graceful;
    local fd30:366:4000::4 as 4242420257;
    neighbor fd69:1001:a2f0::1 as 4242422858;
    interface "wg-as4242422858";
    description "paul - AS4242422858 - IPv6 with MP-BGP";
    direct;

    # Enable MP-BGP: Exchange IPv4 routes over IPv6 session with Extended Next Hop
    ipv4 {
        extended next hop yes;
        import keep filtered;
        import filter {
            if is_valid_network_v4() && !is_self_net_v4() then {
                accept;
            }
            reject;
        };
        export filter {
            if is_valid_network_v4() then {
                accept;
            }
            reject;
        };
    };

    ipv6 {
        import keep filtered;
        import filter {
            if is_valid_network_v6() && !is_self_net_v6() then {
                accept;
            }
            reject;
        };
        export filter {
            if is_valid_network_v6() then {
                accept;
            }
            reject;
        };
    };
}
